### 最大子段和

#### 问题描述：
最大子段和（最大连续子序列的和）

题目描述
给出一个长度为n的序列a,选出其中续且非空的一段使得这段和最大

输入格式
第一行是一个整数，表示序列的长度n
第二行有n个整数，第i个整数表示序列的第i个数字ai

输出格式
输出一行一个整数表示答案。
输入输出样例
输入

7
2 -4 3 -1 2 -4 3

输出

4
说明/提示

样例解释
选取[3,5] 子段(3,-1,2)最大，其和为4

数据规模与约定
对于40%的数据，保证n=2×10^3
对于100%的数据，保证1<=n<=2x10^5,-10^4<=a[1]<=10^4

#### 枚举
分析：
我们可以直接按照题目的要求来枚举就好了

题目的要求是要求a[1]-a[n]中连续非空的一段的和最大
那么我们把每个连续的一段都枚举出来，然后来算出里面的和，找出最大值即可

所以在这个需求下：
我们需要枚举每一段的起点、每一段的终点
然后对这一段进行求和

枚举变量：每一段的起点、终点
枚举范围：起点：1-n,终点：起点-n
枚举判断条件
求和得到每一段的和，在这些和里面选出最大的

时间复杂度：
O(n3)

算法思路
1、枚举每一段的起点和终点
2、对每一段进行求和，在这些和里面选出最大的


#### 分治
分治解法
假定a[1]-a[n]的序列对应的区间[l...r],其中间位置为mid,其最大和的子序列为[i...j]
那么显然，最大连续子序列的位置只有三种可能
完全处于序列的左半：1<=i<=j<=mid
跨越序列中间：i<=mid<=j<=r
完全处于序列的右半：mid<i<=j<=r
只需要分别求出三种情况下的值，取他们最大的即可
其中，很容易求出第二种情况，第二种情况也就是包含mid的子序列
也就是[i...mid...j]而求[i...mid...j]的最大值，
即求出区间[i...mid]的最大值maxx1与区间[mid...j]的最大值maxx2,将其合并即可
合并之后就变成了[i...mid mid...j],mid出现了两次，要减掉一次
所以[i...mid...j]的最大值就是maxx1+maxx2-mid

算法时间复杂度
o( nlogn):二分是logn,处理第二种情况是n,所以合起来就是O(nlogn)
如何求区间[i...mid]的最大值与区间[mid...j]的最大值，
换句话说，也就是如何求以mid为尾的子序列的最大值 和 以mid为头的子序列的最大值
先说以mid为头的子序列的最大和
也就是[mid],[mid.mid+1],[mid...mid+2].,[mid...mid+j]这些序列里面的最大值

递归做分治：
a、递归的终止条件：
因为我们的递归是为了求 l 到 r 序列的子序列的最大值，
所以当区间只有一个元素时，就是终止条件，那个元素就是子序列的最大值
b、递归的递推表达式：比较方式1、2、3的最大值。第2种跨越mid值的需要我们去计算，1,3种情况又转化成了子问题。
c、递归的返回值：子序列的最大值

算法步骤：
1、计算第二种跨越mid情况的序列的最大和
2、比较方式1、2、3的最大值